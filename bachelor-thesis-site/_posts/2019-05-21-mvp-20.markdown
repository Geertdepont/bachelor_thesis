---
layout: post
title: "The lifecycle of Presenters should follow the lifecycle of the Views, but not by replicating the complexity of the lifecycles of Android components."
guideline_id: 20
short_description: "Lifecycle of Presenters"
date:   2019-05-21 01:00:22 +0200
categories: MVP
---
<h3>Why?</h3>
By having callbacks related to the Activity lifecycle in Presenters, Presenters
become tightly coupled to Activities lifecycle. This can have
a negative impact in terms of maintainability. From an architectural perspective, 
Presenters should not be responsible for
data-related tasks. It is hence advised not to retain Presenters.
An alternative solution would be to use a caching mechanism
to retain data, keep Presenters stateless, and destroy Presenters
when their corresponding Views are destroyed. 3) 
MVVM-specific Android Architecture Guidelines: 
Another recurrent theme identified in the practices regards the
MVVM pattern. In total, 24 practices are collected and synthesized in the following 10 MVP-specific guidelines.

<h3>Example</h3>
We created a simple [MVP login Application][github-page]. 

After the login is successful, the AuthComponent gets added to the AppComponent. 
With the <b>plusAuthComponent()</b> method.

<script src="https://gist.github.com/Geertdepont/547535c79f8dd210c7f580de3acd4429.js"></script>

When the GreetActivity and the ViewUserActivity are created. Their respective component is 
being set up and added to the AuthComponent.

<script src="https://gist.github.com/Geertdepont/6bfd1948147766a44579173049aaa979.js"></script>

<script src="https://gist.github.com/Geertdepont/533cae68ef7bbfc49a45cde4b8cd30d6.js"></script>

Our ViewUserPresenter has a one-to-one relationship with viewUsersView. 
This is injected when the ViewUserActivity is created.

<script src="https://gist.github.com/Geertdepont/3cceed203537b7fc29f1cd7a712a2109.js"></script>

Which is provided in our ViewUsersModule.

When the view is added to the module a new ViewPresenter is provided with this	ViewUserView. 
When this view is removed the presenter is removed as well.

<script src="https://gist.github.com/Geertdepont/bb5770a60eff27f2da993c3f46a140d0.js"></script>

Check out the [Github page][github-page] to view the complete repository.

[github-page]: https://github.com/Geertdepont/bachelor_thesis/tree/master/MVPLogin