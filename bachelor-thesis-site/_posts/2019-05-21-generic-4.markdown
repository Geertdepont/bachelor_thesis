---
layout: post
title: "Strive towards separation of concerns in your architecture, where each component has well defined responsibility boundaries, a purpose, (set of)
        functionality, and configuration."
short_description: "Separation of concerns in your architecture"
guideline_id: 4
date:   2019-05-21 01:00:38 +0200
categories: generic
doc: "Architectural components of an app should
      have a single, well defined, responsibility. As a component
      grows bigger, it should be split up."
---
<h3>Why?</h3>

Architectural components of an app should
have a single, well defined, responsibility. As a component
grows bigger, it should be split up. By following the single
responsibility principle, the app architecture naturally supports
the structure of developer teams and development stages.
Additionally, monoliths are detected in the early stages and
modules become testable in isolation. Finally, if the app is built
using Gradle, modularization can improve the performance of
the build process and ease the development of Instant apps
.
It is important to notice that, while modularization may imply
little effort if considered early in the project, it might become
an extremely expensive process in later development stages

<h3>Example</h3>
We created a simple [MVP login Application][github-page]{:target="_blank"}. 
The AuthComponent has one responsibility: Inject the specified modules after login. 
There are two activities that can take place after login:

<ul>
<li>Get a greeting</li>
<li>View other users</li>
</ul>

So for both of these activities we create a component. A <b>GreetComponent</b> and a <b>ViewUserComponent</b>.
The <b>GreetComponent</b> injects everything that is needed for the GreetActivity.
The <b>ViewUserComponent</b> injects everything that is needed for the ViewUserActivity.

We will only look at the <b>GreetComponent</b>.
The <b>GreetComponent</b> uses the <b>GreetModule</b>. Which should provide everything the GreetActivity needs.
<script src="https://gist.github.com/Geertdepont/f5f4acc6f143210c79305f7b58100a47.js"></script>

As we can see the GreetActivity needs a GreetPresenter. The GreetPresenter needs a GreetView and Credentials.

<script src="https://gist.github.com/Geertdepont/7d81c4202d16157d0bd7d0c5a90d4f5d.js"></script>

So all of this needs to be specified in the GreetModule.

<script src="https://gist.github.com/Geertdepont/fb6218336aa43df01f54a736ada4865f.js"></script>

The GreetPresenter calls the showMessage(mCredentials.getPersonalizedGreeting()) on the <b>GreetView</b>.
This way each Architectural component has a single well defined responsibility.
If we did not create a specific AuthComponent for this, we had to put everything into the AppComponent. 
Which would then have too many responsibilities.

<figure>
  <img src="/assets/AppComponentWithoutAuth.png" alt="AppComponent without AuthComponent" width="500">
</figure>

<a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/MVPLogin" target="_blank"><button type="button" class="btn btn-primary btn-icon-right">Go to the github page</button></a>

This guideline was extracted from:
<table id="guidelinelinks">
  <tr>
    <th>Id</th>
    <th>Guideline</th>
    <th>URL</th>
  </tr>
    <tr>
      <td>105</td>
      <td>Separating project into a few modules should give you some profits. You can have abstract layers physically located in different modules, each module has its own build configuration, so you can customize dependencies for each of them. For example UI module doesn’t have to see database or network models, and low level modules don’t have to access libraries for animations, UI binding etc. With Android Gradle Plugin 3.0 or higher, modularization also increases building speed and makes solid fundaments for developing Instant Apps. Keep in mind, that modularization will be easy to achieve and low at cost at the beginning of project development, but when project is mature it will require much more effort.</td>
      <td><a href="https://medium.com/stepstone-tech/considering-architecture-for-android-app-f7f0fabf680a" target="_blank">https://medium.com/stepstone-tech/considering-architecture-for-android-app-f7f0fabf680a</a></td>
    </tr>    
    <tr>
      <td>92</td>
      <td>Create welldefined boundaries of responsibility between various modules of your app. For example, don't spread the code that loads data from the network across multiple classes or packages in your code base. Similarly, don't define multiple unrelated responsibilities—such as data caching and data binding—into the same class.</td>
      <td><a href="https://developer.android.com/jetpack/docs/guide" target="_blank">https://developer.android.com/jetpack/docs/guide</a></td>
    </tr>      
    <tr>
      <td>94</td>
      <td>Consider how to make each module testable in isolation. For example, having a welldefined API for fetching data from the network makes it easier to test the module that persists that data in a local database. If, instead, you mix the logic from these two modules in one place, or distribute your networking code across your entire code base, it becomes much more difficult—if not impossible—to test.</td>
      <td><a href="https://developer.android.com/jetpack/docs/guide" target="_blank">https://developer.android.com/jetpack/docs/guide</a></td>
    </tr>    
    <tr>
      <td>237</td>
      <td>Encourage separation of concerns. What I have said before is an example of separation of concerns. We encourage that particular approach because it maps nicely to the organization of teams and project phases, but your architecture should also encourage separation of concerns generally. Separation of concerns, or the single responsibility principle, says that every component should have only one reason to change.</td>
      <td><a href="https://five.agency/android-architecture-part-1-every-new-beginning-is-hard/" target="_blank">https://five.agency/android-architecture-part-1-every-new-beginning-is-hard/</a></td>
    </tr>    
    <tr>
      <td>141</td>
      <td>[A Component] Has a single, well defined responsibility. The most important property of a Component is it should do just one thing. Nearly all Components in our app are currently about 100 –120 lines. When a Component starts getting bigger, we break it into more Components.</td>
      <td><a href="https://blog.gojekengineering.com/an-architectural-overview-of-the-new-go-jek-rider-app-bb1dbd174323" target="_blank">https://blog.gojekengineering.com/an-architectural-overview-of-the-new-go-jek-rider-app-bb1dbd174323</a></td>
    </tr>
    
</table>

[github-page]: https://github.com/Geertdepont/bachelor_thesis/tree/master/MVPLogin
